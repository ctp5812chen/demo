<!DOCTYPE html>
<html lang="zh-tw">
<head>
  <meta charset="utf-8">
  <title>剝  藥  區</title>
</head>
<body>
  <h1>剝藥責任區</h1>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="peel.css">
  <form action="" class="search">
    <p id="inBlock">請輸入您負責區代號： <input type="text" id="myInput" placeholder="輸入篩選條件"></p>
    <span style="color: #ff0000;">連線有次數上，當無法請等待再試。</span>
  </form>
  <script>
    $(function() {
      // 讀取 CSV 檔
      $.get("data.csv", function(data) {
        // 將 CSV 資料轉換成陣列
        var dataArray = data.split("\n");
        // 建立表格        
        var table = "<table id='mytable' border='1px solid black'>";
            
            var d = dataArray[0].split(",");            
            for (var j = 0; j < d.length; j++) {
            <tr>    
            // 建立表格單元格
            row += "<th>" + data[j] + "</th>";
            </tr>
            table += row;
          }  

        for (var i = 1; i < dataArray.length; i++) {
          // 建立表格列
          var row = "<tr>";
          var data = dataArray[i].split(",");
          for (var j = 0; j < data.length; j++) {
            // 建立表格單元格
            row += "<td>" + data[j] + "</td>";
          }
          row += "</tr>";
          table += row;
        }
        table += "</table>";
        // 顯示表格
        $("body").append(table);
      });
    });
  </script>

  <script>
    $(document).ready(function(){
      $("#myInput").on("keyup", function(){
        var value=$(this).val().toLowerCase();
      
        $("#mytable tr").filter(function(){
          $(this).toggle($(this).text().toLowerCase().indexof(value) >-1)
        });
      });
    });
  </script>

</body>
</html>
