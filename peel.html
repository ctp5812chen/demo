<!DOCTYPE html>
<html lang="zh-tw">
<head>
  <meta charset="utf-8">
  <title>剝  藥  區</title>
</head>
<body>
  <h1>剝藥責任區</h1>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link rel="stylesheet" href="peel.css">
  <form action="" class="search">
    <input type="text" id="filter" placeholder="輸入篩選條件">
  </form>
  <script>
    $(function() {
      // 讀取 CSV 檔
      $.get("data.csv", function(data) {
        // 將 CSV 資料轉換成陣列
        var dataArray = data.split("\n");
        // 建立表格
        var table = "<table id='mytable' border='1px solid black'>";
        for (var i = 0; i < dataArray.length; i++) {
          // 建立表格列
          var row = "<tr>";
          var data = dataArray[i].split(",");
          for (var j = 0; j < data.length; j++) {
            // 建立表格單元格
            row += "<td>" + data[j] + "</td>";
          }
          row += "</tr>";
          table += row;
        }
        table += "</table>";
        // 顯示表格
        $("body").append(table);
        
        // // 建立篩選器
        // var filter = $("#filter").val();

        // // 篩選表格
        // $(table).filter(function() {
        //   return $(this).find("td:eq(0)").text() == filter;
        // });
      });
    });
  </script>
</body>
<script>
  $(document).ready(function(){
    $("#filter").on("keyup", function(){
      var value=$(this).val();
    
      $("#mytable tr").filter(function(){
        $(this).toggle($(this).text().indexof(value) >-1)
      });
    });
  });
</script>
</html>
